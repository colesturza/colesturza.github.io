<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Cole  Sturza | Internet of things Device Dashboard</title>
    <meta name="author" content="Cole  Sturza" />
    <meta name="description" content="A software system for displaying IoT device data in real-time." />
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon.png"/>
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://colesturza.github.io/projects/iot-device-dashboard/">
    
    <!-- Dark Mode -->
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://colesturza.github.io/"><span class="font-weight-bold">Cole</span>   Sturza</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>

              <!-- CV link -->
              <li class="nav-item ">
                <a class="nav-link" target="_blank" rel="noopener noreferrer" href="/assets/pdf/Cole_s_Resume.pdf">résumé</a>
              </li>

              
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Internet of things Device Dashboard</h1>
            <p class="post-description">A software system for displaying IoT device data in real-time.</p>
          </header>

          <article>
            <h3 id="tldr">TL;DR</h3>
<p>I built and designed a system for collecting, storing, and viewing sensor data collected by IoT devices (such as an Arduino). The system utilizes an MQTT broker, Telegraf, InfluxDB, Grafana, and Docker Compose. The system is hosted on my server using Nginx to reverse proxy for various deployments. This project was used in a Senior Capstone project at the University of Colorado Boulder. The repository for the project can be found <a href="https://github.com/colesturza/iot-device-dashboard" target="_blank" rel="noopener noreferrer">here</a>.</p>

<h3 id="summary">Summary</h3>
<p>This project was done in collaboration with one of my college roommates for his Senior Capstone in Aerospace at the University of Colorado Boulder. The requirements for this project were to create a scalable system for collecting, storing, and viewing data from Internet of Things (IoT) devices. There were budget constraints that prevented the final system from being hosted on AWS or Google Cloud. To make due we decided to host the system on a spare PC in our living room running Ubuntu. The PC hosts various other applications like Minecraft and Valheim servers. The PC uses Nginx to reverse proxy various requests to the several docker containers it is running. The primary components of the system are an MQTT Broker, Telegraf, InfluxDB, and Grafana.</p>

<p>If you are unfamiliar with MQTT it was a protocol invented in 1999 by Andy Stanford-Clark and Arlen Nipper. Stanford-Clark and Nipper “needed a protocol for minimal battery loss and minimal bandwidth to connect with oil pipelines via satellite” <a href="https://www.hivemq.com/blog/mqtt-essentials-part-1-introducing-mqtt/" target="_blank" rel="noopener noreferrer">Source</a>. However, the primary focus of MQTT has now shifted “from proprietary embedded systems to open [IoT] use cases” <a href="https://www.hivemq.com/blog/mqtt-essentials-part-1-introducing-mqtt/" target="_blank" rel="noopener noreferrer">Source</a>.</p>

<p>MQTT works on a publish/subscribe system. The IoT devices publish timestamped data to the MQTT broker via specified directories, for example, <code class="language-plaintext highlighter-rouge">/sensors/data/</code>. Telegraf is used to retrieve the data from the MQTT broker and store it in the InfluxDB database. The Telegraf instance subscribes to the <code class="language-plaintext highlighter-rouge">/sensors/data/</code> directory and receives all data published to it. This system works well for IoT devices because it allows you to scale the number of devices without having to tell them about the subscribers that need to receive the data. If a new subscriber is added to the system the code on the IoT devices need not change as the new subscriber will just tell the MQTT broker which data it wants.</p>

<p>The client can access the Grafana dashboard and view the data being published by the IoT devices. A domain name was created for the dashboard and Nginx listens on port 80 for the domain, the requests are reversed proxy-ed to the InfluxDB container. The MQTT Broker being a stream was not assigned a domain, also it is not to be accessed by anyone other than the IoT devices. The MQTT broker listens on port 1883. The MQTT broker is password protected so that only devices with authentication can publish and subscribe. Below is the architecture diagram for the project.</p>

<div class="row justify-content-sm-center">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/iot-device-dashboard-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/iot-device-dashboard-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/iot-device-dashboard-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/iot-device-dashboard.jpg" title="example image">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
    Architecture diagram for IoT device dashboard.
</div>


          </article>

        </div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2022 Cole  Sturza. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>.
Last updated: July 24, 2022.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
  </body>
</html>

